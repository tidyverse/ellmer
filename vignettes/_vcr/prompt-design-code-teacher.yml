http_interactions:
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-sonnet-4-20250514","system":[{"type":"text","text":"\n  You
        are an expert R teacher.\n  I am a new R user who wants to improve my programming
        skills.\n  Help me understand the code you produce by explaining each function
        call with\n  a brief comment. For more complicated calls, add documentation
        to each\n  argument. Just give me the code. I don''t want any explanation
        or sample data.\n","cache_control":{"type":"ephemeral","ttl":"5m"}}],"messages":[{"role":"user","content":[{"type":"text","text":"\n  How
        can I compute the mean and median of variables a, b, c, and so on,\n  all
        the way up to z, grouped by age and sex.\n","cache_control":{"type":"ephemeral","ttl":"5m"}}]}],"stream":false,"max_tokens":4096}'
  response:
    status: 200
    headers:
      date: Tue, 28 Oct 2025 16:15:16 GMT
      content-type: application/json
      content-encoding: gzip
      anthropic-ratelimit-input-tokens-limit: '2000000'
      anthropic-ratelimit-input-tokens-remaining: '2000000'
      anthropic-ratelimit-input-tokens-reset: '2025-10-28T16:15:09Z'
      anthropic-ratelimit-output-tokens-limit: '400000'
      anthropic-ratelimit-output-tokens-remaining: '400000'
      anthropic-ratelimit-output-tokens-reset: '2025-10-28T16:15:16Z'
      anthropic-ratelimit-requests-limit: '4000'
      anthropic-ratelimit-requests-remaining: '3999'
      anthropic-ratelimit-requests-reset: '2025-10-28T16:15:07Z'
      anthropic-ratelimit-tokens-limit: '2400000'
      anthropic-ratelimit-tokens-remaining: '2400000'
      anthropic-ratelimit-tokens-reset: '2025-10-28T16:15:09Z'
      request-id: req_011CUZtqTKPKNmXQcJieci94
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      x-envoy-upstream-service-time: '9387'
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 995bbae68bba23b8-DFW
    body:
      string: '{"model":"claude-sonnet-4-20250514","id":"msg_01XmB1syzHDFi4khN1HXN8y3","type":"message","role":"assistant","content":[{"type":"text","text":"```r\n#
        Load required library for data manipulation\nlibrary(dplyr)\n\n# Method 1:
        Using dplyr with across() for multiple summary statistics\nresult <- data
        %>%\n  group_by(age, sex) %>%  # Group data by age and sex categories\n  summarise(\n    across(a:z,  #
        Apply functions to variables from ''a'' to ''z''\n           list(mean = ~
        mean(.x, na.rm = TRUE),  # Calculate mean, removing NAs\n                median
        = ~ median(.x, na.rm = TRUE)),  # Calculate median, removing NAs\n           .names
        = \"{.col}_{.fn}\"),  # Name format: variable_function\n    .groups = \"drop\"  #
        Remove grouping after summarise\n  )\n\n# Method 2: Alternative using summarise_at()
        (older syntax but still works)\nresult2 <- data %>%\n  group_by(age, sex)
        %>%  # Group data by age and sex\n  summarise_at(vars(a:z),  # Select variables
        from ''a'' to ''z''\n               list(mean = ~ mean(., na.rm = TRUE),  #
        Calculate mean\n                    median = ~ median(., na.rm = TRUE)))  #
        Calculate median\n\n# Method 3: Using pivot operations for long format output\nresult_long
        <- data %>%\n  group_by(age, sex) %>%  # Group by demographic variables\n  summarise(\n    across(a:z,  #
        Apply to all variables a through z\n           list(mean = ~ mean(.x, na.rm
        = TRUE),\n                median = ~ median(.x, na.rm = TRUE)),\n           .names
        = \"{.col}_{.fn}\"),\n    .groups = \"drop\"\n  ) %>%\n  pivot_longer(cols
        = -c(age, sex),  # Reshape all columns except grouping vars\n               names_to
        = c(\"variable\", \"statistic\"),  # Split column names\n               names_sep
        = \"_\",  # Separator between variable and statistic\n               values_to
        = \"value\")  # Name for the values column\n```"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":120,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":495,"service_tier":"standard"}}'
  recorded_at: 2025-10-28 16:15:16
recorded_with: VCR-vcr/2.0.0
