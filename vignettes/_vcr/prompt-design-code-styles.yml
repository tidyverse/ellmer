http_interactions:
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-sonnet-4-5-20250929","system":"\n  You are an expert
        R programmer who prefers data.table.\n  Just give me the code. I don''t want
        any explanation or sample data.\n","messages":[{"role":"user","content":[{"type":"text","text":"\n  How
        can I compute the mean and median of variables a, b, c, and so on,\n  all
        the way up to z, grouped by age and sex.\n"}]}],"stream":false,"max_tokens":4096}'
  response:
    status: 200
    headers:
      date: Wed, 22 Oct 2025 14:34:53 GMT
      content-type: application/json
      content-encoding: gzip
      anthropic-ratelimit-input-tokens-limit: '2000000'
      anthropic-ratelimit-input-tokens-remaining: '2000000'
      anthropic-ratelimit-input-tokens-reset: '2025-10-22T14:34:49Z'
      anthropic-ratelimit-output-tokens-limit: '400000'
      anthropic-ratelimit-output-tokens-remaining: '400000'
      anthropic-ratelimit-output-tokens-reset: '2025-10-22T14:34:53Z'
      anthropic-ratelimit-requests-limit: '4000'
      anthropic-ratelimit-requests-remaining: '3999'
      anthropic-ratelimit-requests-reset: '2025-10-22T14:34:48Z'
      anthropic-ratelimit-tokens-limit: '2400000'
      anthropic-ratelimit-tokens-remaining: '2400000'
      anthropic-ratelimit-tokens-reset: '2025-10-22T14:34:49Z'
      request-id: req_011CUNQLFGEJexZJLKgF5Tj9
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      x-envoy-upstream-service-time: '5332'
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 9929b7b188f3461a-DFW
    body:
      string: '{"model":"claude-sonnet-4-5-20250929","id":"msg_013EQbABpQZzFCh1zy4geMLQ","type":"message","role":"assistant","content":[{"type":"text","text":"```r\nlibrary(data.table)\n\ndt[,
        lapply(.SD, function(x) list(mean = mean(x, na.rm = TRUE), \n                                   median
        = median(x, na.rm = TRUE))), \n   by = .(age, sex), \n   .SDcols = letters]\n```\n\nIf
        you want mean and median as separate columns:\n\n```r\nlibrary(data.table)\n\ndt[,
        c(lapply(.SD, mean, na.rm = TRUE), \n       lapply(.SD, median, na.rm = TRUE)),
        \n   by = .(age, sex), \n   .SDcols = letters]\n```\n\nOr with prefixes for
        clarity:\n\n```r\nlibrary(data.table)\n\nresult <- dt[, c(\n  setNames(lapply(.SD,
        mean, na.rm = TRUE), paste0(\"mean_\", letters)),\n  setNames(lapply(.SD,
        median, na.rm = TRUE), paste0(\"median_\", letters))\n), by = .(age, sex),
        .SDcols = letters]\n```"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":78,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":256,"service_tier":"standard"}}'
  recorded_at: 2025-10-22 14:34:53
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-sonnet-4-5-20250929","system":"\n  You are an expert
        R programmer who prefers base R.\n  Just give me the code. I don''t want any
        explanation or sample data.\n","messages":[{"role":"user","content":[{"type":"text","text":"\n  How
        can I compute the mean and median of variables a, b, c, and so on,\n  all
        the way up to z, grouped by age and sex.\n"}]}],"stream":false,"max_tokens":4096}'
  response:
    status: 200
    headers:
      date: Wed, 22 Oct 2025 14:34:58 GMT
      content-type: application/json
      content-encoding: gzip
      anthropic-ratelimit-input-tokens-limit: '2000000'
      anthropic-ratelimit-input-tokens-remaining: '2000000'
      anthropic-ratelimit-input-tokens-reset: '2025-10-22T14:34:55Z'
      anthropic-ratelimit-output-tokens-limit: '400000'
      anthropic-ratelimit-output-tokens-remaining: '400000'
      anthropic-ratelimit-output-tokens-reset: '2025-10-22T14:34:58Z'
      anthropic-ratelimit-requests-limit: '4000'
      anthropic-ratelimit-requests-remaining: '3999'
      anthropic-ratelimit-requests-reset: '2025-10-22T14:34:53Z'
      anthropic-ratelimit-tokens-limit: '2400000'
      anthropic-ratelimit-tokens-remaining: '2400000'
      anthropic-ratelimit-tokens-reset: '2025-10-22T14:34:55Z'
      request-id: req_011CUNQLf2DzaE2kyesWTw8t
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      anthropic-organization-id: bf3687d8-1b59-41eb-9761-a1fd70b24e7e
      x-envoy-upstream-service-time: '5022'
      via: 1.1 google
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      server: cloudflare
      cf-ray: 9929b7d43b1f461a-DFW
    body:
      string: '{"model":"claude-sonnet-4-5-20250929","id":"msg_01MLW4fJH1dYX9NVDoCBEw2E","type":"message","role":"assistant","content":[{"type":"text","text":"```R\naggregate(.
        ~ age + sex, data = your_data, FUN = function(x) c(mean = mean(x), median
        = median(x)))\n```\n\nOr if you want separate columns for means and medians:\n\n```R\nmeans
        <- aggregate(. ~ age + sex, data = your_data, FUN = mean)\nmedians <- aggregate(.
        ~ age + sex, data = your_data, FUN = median)\nresult <- merge(means, medians,
        by = c(\"age\", \"sex\"), suffixes = c(\"_mean\", \"_median\"))\n```\n\nOr
        using `by()` for more control:\n\n```R\ndo.call(rbind, by(your_data, list(your_data$age,
        your_data$sex), function(x) {\n  data.frame(\n    age = x$age[1],\n    sex
        = x$sex[1],\n    t(sapply(x[, c(\"a\", \"b\", \"c\", ..., \"z\")], function(col)
        c(mean = mean(col), median = median(col))))\n  )\n}))\n```"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":77,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":261,"service_tier":"standard"}}'
  recorded_at: 2025-10-22 14:34:58
recorded_with: VCR-vcr/2.0.0
